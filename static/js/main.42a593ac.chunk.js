(this["webpackJsonpweather-dashboard-react"]=this["webpackJsonpweather-dashboard-react"]||[]).push([[0],{19:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(10),i=t.n(c),o=(t(19),t(2)),s=t(3),d=t(4),u=t(5),l=t(14),j="GET_SEARCH_CITY",b="SET_CITY",m="SET_CITY_LIST",h="SET_WEATHER",p="SET_IS_LOADING",g="SET_ERROR",O="SET_UVI_STYLE",f=function(e){return{type:j,city:e}},x=function(e){return{type:b,payload:e}},y=function(){return{type:p}},v=function(e){return{type:g,payload:e}},w=function(e,n){switch(n.type){case j:return Object(d.a)(Object(d.a)({},e),{},{searchCity:n.city});case b:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,city:n.payload});case m:return Object(d.a)(Object(d.a)({},e),{},{cityList:n.cityList});case p:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,isError:null,weather:{isSet:!1}});case h:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:null,weather:n.payload});case g:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:n.payload,weather:{isSet:!1}});case O:return Object(d.a)(Object(d.a)({},e),{},{uviStyle:n.payload});default:return e}};var S,C,E=t(0),k=["value"],L=Object(r.createContext)(),T=L.Provider,z=function(e){e.value;var n,t=Object(l.a)(e,k),a=(n={city:{name:"",latitude:"",longitude:""},searchCity:"",isLoading:!1,isError:null,weather:{isSet:!1,icon:{src:"",alt:""},curTemp:null,curWindSpd:null,curHumidity:null,curUvi:null,fiveDayForecast:[]},cityList:[],uviStyle:{}},Object(r.useReducer)(w,n)),c=Object(u.a)(a,2),i=c[0],o=c[1];return Object(E.jsx)(T,Object(d.a)({value:[i,o]},t))},_=function(){return Object(r.useContext)(L)},I=s.a.header(S||(S=Object(o.a)(["\n  text-align: center;\n  max-width: 100%;\n\n  padding: 0.5rem 0.75rem;\n  background: linear-gradient(to right, blue, navy);\n  color: azure;\n"]))),D=s.a.h1(C||(C=Object(o.a)(["\n  font-size: 2.5rem;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n"])));var F,H,A,W,R,U=function(){return Object(E.jsx)(I,{children:Object(E.jsx)(D,{children:"Weather Dashboard"})})},N="feff70f8d612132ecb7ca03754f46b78",Y=s.a.section(F||(F=Object(o.a)(["\n  margin: 0.5rem;\n  border-bottom: 2px solid black;\n"]))),J=s.a.form(H||(H=Object(o.a)(["\n  display: grid;\n  gap: 0.5rem;\n"]))),M=s.a.label(A||(A=Object(o.a)(["\n  font-size: 1.75rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n"]))),P=s.a.input(W||(W=Object(o.a)(["\n  display: block;\n  /* margin-top: 1rem; */\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n"]))),G=s.a.button(R||(R=Object(o.a)(["\n  background: #5098e6;\n  color: #c7dfe8;\n  margin-bottom: 1rem;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n"])));var V,q,B=function(){var e=_(),n=Object(u.a)(e,2),t=n[0].searchCity,a=n[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),o=i[0],s=i[1];return Object(r.useEffect)((function(){if(t){var e="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=imperial&appid=").concat(N),n=new AbortController;a(y()),fetch(e,{signal:n.signal}).then((function(e){if(!e.ok){var n="";throw n=404===e.status?"Unable to find ".concat(t):"An error has occurred: ".concat(e.status),new Error(n)}return e.json()})).then((function(e){var n={name:e.name,latitude:e.coord.lat,longitude:e.coord.lon};a(x(n))})).catch((function(e){a(v(e))})),a(f(""))}}),[t]),Object(E.jsx)(Y,{className:"search",children:Object(E.jsxs)(J,{onSubmit:function(e){e.preventDefault(),o&&a(f(o)),s("")},children:[Object(E.jsx)(M,{children:"Search for a City:"}),Object(E.jsx)(P,{placeholder:"City (no state)",type:"text",value:o,onChange:function(e){s(e.target.value)}}),Object(E.jsx)(G,{type:"submit",children:"Search"})]})})},K=s.a.div(V||(V=Object(o.a)(["\n  display: grid;\n  gap: 0.5rem;\n  margin: 0.5rem;\n  margin-top: 1rem;\n"]))),Q=s.a.button(q||(q=Object(o.a)(["\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5rem;\n  color: #fff;\n  background-color: #6c757d;\n  border: 1px solid #6c757d;\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n  padding: 0.375rem 0.75rem;\n"])));var X,Z,$,ee=function(){var e=_(),n=Object(u.a)(e,2),t=n[0],a=t.cityList,c=t.city,i=n[1];return Object(r.useEffect)((function(){var e="reactWeatherCityList",n=JSON.parse(localStorage.getItem(e))||[];if(c.name){var t=n.findIndex((function(e){return e.name===c.name}));t>-1&&n.splice(t,1),n.unshift(c),n.length>10&&(n.length=10),localStorage.setItem(e,JSON.stringify(n))}i(function(e){return{type:m,cityList:e}}(n))}),[c]),a.length?Object(E.jsx)(K,{children:a.map((function(e){return Object(E.jsx)(Q,{onClick:function(){return i(x(e))},children:e.name},e.name)}))}):Object(E.jsx)(K,{})},ne=String.fromCharCode(176);function te(e){var n=new Date(1e3*e);return"".concat(n.getMonth()+1,"/").concat(n.getDate(),"/").concat(n.getFullYear())}var re=s.a.div(X||(X=Object(o.a)(["\n  display: grid;\n  gap: 1rem;\n  padding: 1rem;\n\n  border: 1px solid black;\n  font-size: 1.5rem;\n"]))),ae=s.a.p(Z||(Z=Object(o.a)(["\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n"]))),ce=s.a.img($||($=Object(o.a)(["\n  vertical-align: middle;\n"])));var ie,oe,se=function(){var e=_(),n=Object(u.a)(e,1)[0],t=n.city,r=n.weather,a=n.uviStyle;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(re,{children:[Object(E.jsxs)(ae,{children:[t.name," (",r.asOfDate,")"," ",Object(E.jsx)(ce,{src:r.icon.src,alt:r.icon.alt})]}),Object(E.jsxs)("p",{children:["Temp: ",r.curTemp+ne," F"]}),Object(E.jsxs)("p",{children:["Wind: ",r.curWindSpd," MPH"]}),Object(E.jsxs)("p",{children:["Humidity: ",r.curHumidity,"%"]}),Object(E.jsxs)("p",{children:["UV Index: ",Object(E.jsx)("span",{style:a,children:r.curUvi})]})]})})},de=s.a.div(ie||(ie=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n\n  padding: 0.5rem;\n  margin-bottom: 0.5rem;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n\n  background: #2d3e50;\n  color: azure;\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1.5;\n"]))),ue=s.a.img(oe||(oe=Object(o.a)(["\n  vertical-align: middle;\n"])));var le,je,be,me=function(e){var n=e.forecast;return Object(E.jsx)(de,{children:Object(E.jsxs)("div",{class:"content",children:[Object(E.jsx)("p",{children:te(n.dt)}),Object(E.jsx)(ue,{src:"https://openweathermap.org/img/wn/".concat(n.weather[0].icon,".png"),alt:n.weather[0].description}),Object(E.jsxs)("p",{children:["High: ",n.temp.max+ne," F"]}),Object(E.jsxs)("p",{children:["Low: ",n.temp.min+ne," F"]}),Object(E.jsxs)("p",{children:["Wind: ",n.wind_speed," MPH"]}),Object(E.jsxs)("p",{children:["Humidity: ",n.humidity,"%"]})]})})},he=s.a.p(le||(le=Object(o.a)(["\n  font-size: 1.75rem;\n  font-weight: 700;\n  margin: 0.5rem;\n"]))),pe=s.a.div(je||(je=Object(o.a)(["\n  display: grid;\n  gap: 1rem;\n  padding: 1rem;\n"]))),ge=s.a.div(be||(be=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: space-between;\n\n  padding: 0 1rem;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n  }\n"])));var Oe,fe=function(){var e=_(),n=Object(u.a)(e,1)[0].weather;return Object(E.jsxs)(pe,{children:[Object(E.jsx)(he,{children:"5 day forecast"}),Object(E.jsx)(ge,{children:n.fiveDayForecast.map((function(e){return Object(E.jsx)(me,{forecast:e},e.dt)}))})]})},xe=function(){var e=_(),n=Object(u.a)(e,2),t=n[0],a=t.city,c=t.isLoading,i=t.isError,o=t.weather,s=n[1];return Object(r.useEffect)((function(){if(""!==a.name){var e="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a.latitude,"&lon=").concat(a.longitude,"&exclude=minutely,hourly&units=imperial&appid=").concat(N),n=new AbortController;s(y()),fetch(e,{signal:n.signal}).then((function(e){if(!e.ok){var n="An error has occurred: ".concat(e.status);throw new Error(n)}return e.json()})).then((function(e){var n,t={isSet:!0,icon:{src:"https://openweathermap.org/img/wn/".concat(e.current.weather[0].icon,".png"),alt:e.current.weather[0].description},curTemp:e.current.temp,curWindSpd:e.current.wind_speed,curHumidity:e.current.humidity,curUvi:e.current.uvi,asOfDate:te(e.current.dt),fiveDayForecast:e.daily.slice(1,6)};s(function(e){return{type:h,payload:e}}(t)),s((n=function(e){var n={borderRadius:".25rem",padding:".25rem .5rem",fontSize:"1.25rem"};return e<=2?(n.backgroundColor="green",n.color="azure"):e<=5?n.backgroundColor="yellow":e<=7?n.backgroundColor="orange":e<=10?(n.backgroundColor="red",n.color="azure"):(n.backgroundColor="violet",n.color="azure"),n}(t.curUvi),{type:O,payload:n}))})).catch((function(e){s(v(e))}))}}),[a]),Object(E.jsxs)(E.Fragment,{children:[c&&Object(E.jsx)("div",{children:"Loading..."}),i&&Object(E.jsx)("div",{children:i.message}),o.isSet&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(se,{}),Object(E.jsx)(fe,{})]})]})},ye=s.a.div(Oe||(Oe=Object(o.a)(["\n  max-width: 1320px;\n  margin: auto;\n  padding: 1rem;\n\n  @media (min-width: 768px) {\n    display: grid;\n    grid-template-columns: auto auto auto auto auto auto;\n    gap: 1rem;\n\n    aside {\n      grid-column: 1;\n    }\n\n    section {\n      grid-column: 2 / span 5;\n    }\n  }\n"])));var ve=function(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(U,{}),Object(E.jsx)(z,{children:Object(E.jsxs)(ye,{children:[Object(E.jsxs)("aside",{children:[Object(E.jsx)(B,{}),Object(E.jsx)(ee,{})]}),Object(E.jsx)("section",{children:Object(E.jsx)(xe,{})})]})})]})};i.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(ve,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.42a593ac.chunk.js.map