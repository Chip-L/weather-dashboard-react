(this["webpackJsonpweather-dashboard-react"]=this["webpackJsonpweather-dashboard-react"]||[]).push([[0],{11:function(e,t,r){},13:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(5),i=r.n(c),o=(r(11),r(3)),s="feff70f8d612132ecb7ca03754f46b78";function d(e){var t=new Date(1e3*e);return"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())}var l=r(2),u=r(6),b="SET_SEARCH_CITY",h="SET_CITY",j="SET_WEATHER",m="SET_IS_LOADING",p="SET_ERROR",g=function(e){return{type:b,city:e}},f=function(){return{type:m}},y=function(e){return{type:p,payload:e}},O=function(e,t){switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{searchCity:t.city});case h:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,city:t.payload});case m:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0,isError:null,weather:{isSet:!1}});case j:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isError:null,weather:t.payload});case p:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isError:t.payload,weather:{isSet:!1}});default:return e}};var x=r(0),v=["value"],S=Object(n.createContext)(),w=S.Provider,C=function(e){e.value;var t,r=Object(u.a)(e,v),a=(t={city:{name:"",latitude:"",longitude:""},searchCity:"",isLoading:!1,isError:null,weather:{isSet:!1,icon:{src:"",alt:""},curTemp:null,curWindSpd:null,curHumidity:null,curUvi:null,fiveDayForecast:[]},cityList:[]},Object(n.useReducer)(O,t)),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(x.jsx)(w,Object(l.a)({value:[i,s]},r))},E=function(){return Object(n.useContext)(S)},k=String.fromCharCode(176);var T=function(){var e={div:{display:"grid",gap:"1rem",padding:"1rem",border:"1px solid black",fontSize:"1.5rem"},city:{fontSize:"2rem",fontWeight:700,marginBottom:".5rem"},img:{verticalAlign:"middle"}},t=E(),r=Object(o.a)(t,2),a=r[0],c=a.city,i=a.isLoading,l=a.isError,u=a.weather,b=r[1],h=Object(n.useState)({}),m=Object(o.a)(h,2),p=m[0],g=m[1];return Object(n.useEffect)((function(){if(""!==c.name){var e="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(c.latitude,"&lon=").concat(c.longitude,"&exclude=minutely,hourly&units=imperial&appid=").concat(s);console.log(e);var t=new AbortController;b(f()),fetch(e,{signal:t.signal}).then((function(e){if(!e.ok){var t="An error has occurred: ".concat(e.status);throw new Error(t)}return e.json()})).then((function(e){console.log(e);var t={isSet:!0,icon:{src:"https://openweathermap.org/img/wn/".concat(e.current.weather[0].icon,".png"),alt:e.current.weather[0].description},curTemp:e.current.temp,curWindSpd:e.current.wind_speed,curHumidity:e.current.humidity,curUvi:e.current.uvi,asOfDate:d(e.current.dt),fiveDayForecast:e.daily.slice(1,6)};b(function(e){return{type:j,payload:e}}(t)),g(function(e){var t={borderRadius:".25rem",padding:".25rem .5rem",fontSize:"1.25rem"};return e<=2?(t.backgroundColor="green",t.color="azure"):e<=5?t.backgroundColor="yellow":e<=7?t.backgroundColor="orange":e<=10?(t.backgroundColor="red",t.color="azure"):(t.backgroundColor="violet",t.color="azure"),t}(u.curUvi))})).catch((function(e){b(y(e))}))}}),[c]),Object(x.jsxs)(x.Fragment,{children:[i&&Object(x.jsx)("div",{children:"Loading..."}),l&&Object(x.jsx)("div",{children:l.message}),u.isSet&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{style:e.div,children:[Object(x.jsxs)("p",{style:e.city,children:[c.name," (",u.asOfDate,")"," ",Object(x.jsx)("img",{style:e.img,src:u.icon.src,alt:u.icon.alt})]}),Object(x.jsxs)("p",{children:["Temp: ",u.curTemp+k," F"]}),Object(x.jsxs)("p",{children:["Wind: ",u.curWindSpd," MPH"]}),Object(x.jsxs)("p",{children:["Humidity: ",u.curHumidity,"%"]}),Object(x.jsxs)("p",{children:["UV Index: ",Object(x.jsx)("span",{style:p,children:u.curUvi})]})]})})]})},W={header:{display:"flex",justifyContent:"center",padding:".5rem .75rem",background:"linear-gradient(to right, blue, navy)",color:"azure",maxWidth:"100%"},h1:{fontSize:"2.5rem",fontWeight:500,marginBottom:".5rem"}};var z=function(){return Object(x.jsx)("header",{style:W.header,children:Object(x.jsx)("h1",{style:W.h1,children:"Weather Dashboard"})})};var A=function(){var e={container:{margin:".5rem",borderBottom:"2px solid black"},form:{display:"grid",gridGap:".5rem"},label:{fontSize:"1.75rem",fontWeight:700,marginBottom:".5rem"},input:{display:"block",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:1.5,border:"1px solid #ced4da",borderRadius:".25rem"},button:{background:"#5098e6",color:"#c7dfe8",marginBottom:"1rem",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:"1.5rem",border:"1px solid transparent",borderRadius:".25rem",transition:"color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out"}},t=E(),r=Object(o.a)(t,2),a=r[0].searchCity,c=r[1],i=Object(n.useState)(""),d=Object(o.a)(i,2),l=d[0],u=d[1];return Object(n.useEffect)((function(){if(a){var e="https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&units=imperial&appid=").concat(s),t=new AbortController;c(f()),fetch(e,{signal:t.signal}).then((function(e){if(!e.ok){var t="";throw t=404===e.status?"Unable to find ".concat(a):"An error has occurred: ".concat(e.status),new Error(t)}return e.json()})).then((function(e){var t={name:e.name,latitude:e.coord.lat,longitude:e.coord.lon};c({type:h,payload:t})})).catch((function(e){c(y(e))})),c(g(""))}}),[a]),Object(x.jsx)("section",{className:"search",style:e.container,children:Object(x.jsxs)("form",{style:e.form,onSubmit:function(e){e.preventDefault(),l&&c(g(l)),u("")},children:[Object(x.jsx)("label",{style:e.label,children:"Search for a City:"}),Object(x.jsx)("input",{placeholder:"City (no state)",type:"text",style:e.input,value:l,onChange:function(e){u(e.target.value)}}),Object(x.jsx)("button",{type:"submit",style:e.button,children:"Search"})]})})},D={content:{maxWidth:"1400px",margin:"auto",padding:"1rem",display:"grid",gridTemplateColumns:"auto auto auto auto auto auto",gridGap:"1rem"},aside:{gridColumn:1},section:{gridColumn:"2 / span 5"}};var H=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(z,{}),Object(x.jsx)(C,{children:Object(x.jsxs)("div",{className:"content",style:D.content,children:[Object(x.jsx)("aside",{style:D.aside,children:Object(x.jsx)(A,{})}),Object(x.jsx)("section",{style:D.section,children:Object(x.jsx)(T,{})})]})})]})};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.9adbf3c9.chunk.js.map