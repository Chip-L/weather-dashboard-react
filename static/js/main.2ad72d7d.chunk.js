(this["webpackJsonpweather-dashboard-react"]=this["webpackJsonpweather-dashboard-react"]||[]).push([[0],{11:function(e,t,r){},13:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),a=r(5),c=r.n(a),o=(r(11),r(3)),s="feff70f8d612132ecb7ca03754f46b78",d=String.fromCharCode(176);function l(e){var t=new Date(1e3*e);return"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())}var u=r(2),b=r(6),j="SET_SEARCH_CITY",m="SET_CITY",h="SET_WEATHER",p="SET_IS_LOADING",g="SET_ERROR",f=function(e){return{type:j,city:e}},y=function(){return{type:p}},O=function(e){return{type:g,payload:e}},x=function(e,t){switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{searchCity:t.city});case m:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,city:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isError:null,weather:{isSet:!1}});case h:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:null,weather:t.payload});case g:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:t.payload,weather:{isSet:!1}});default:return e}};var v=r(0),w=["value"],S=Object(n.createContext)(),C=S.Provider,E=function(e){e.value;var t,r=Object(b.a)(e,w),i=(t={city:{name:"",latitude:"",longitude:""},searchCity:"",isLoading:!1,isError:null,weather:{isSet:!1,icon:{src:"",alt:""},curTemp:null,curWindSpd:null,curHumidity:null,curUvi:null,fiveDayForecast:[]},cityList:[]},Object(n.useReducer)(x,t)),a=Object(o.a)(i,2),c=a[0],s=a[1];return Object(v.jsx)(C,Object(u.a)({value:[c,s]},r))},k=function(){return Object(n.useContext)(S)};var W=function(e){var t=e.forecast,r={card:{background:"#2d3e50",color:"azure",fontSize:"1rem",fontWeight:"bold",lineHeight:1.5,padding:".5rem",border:"1px solid rgba(0,0,0,.125)",borderRadius:".25rem"},img:{verticalAlign:"middle"}};return Object(v.jsxs)("div",{style:r.card,children:[Object(v.jsx)("p",{children:l(t.dt)}),Object(v.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),alt:t.weather[0].description,style:r.img}),Object(v.jsxs)("p",{children:["High: ",t.temp.max+d," F"]}),Object(v.jsxs)("p",{children:["Low: ",t.temp.min+d," F"]}),Object(v.jsxs)("p",{children:["Wind: ",t.wind_speed," MPH"]}),Object(v.jsxs)("p",{children:["Humidity: ",t.humidity,"%"]})]})};var H=function(){var e={div:{display:"grid",gap:"1rem",padding:"1rem",border:"1px solid black",fontSize:"1.5rem"},city:{fontSize:"2rem",fontWeight:700,marginBottom:".5rem"},img:{verticalAlign:"middle"},fdfHeading:{fontSize:"1.75rem",fontWeight:700,margin:".5rem"},fdfDiv:{display:"grid",gap:"1rem",padding:"1rem"},fdfRow:{display:"flex",justifyContent:"space-between",padding:"0 1rem"}},t=k(),r=Object(o.a)(t,2),i=r[0],a=i.city,c=i.isLoading,u=i.isError,b=i.weather,j=r[1],m=Object(n.useState)({}),p=Object(o.a)(m,2),g=p[0],f=p[1];return Object(n.useEffect)((function(){if(""!==a.name){var e="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a.latitude,"&lon=").concat(a.longitude,"&exclude=minutely,hourly&units=imperial&appid=").concat(s),t=new AbortController;j(y()),fetch(e,{signal:t.signal}).then((function(e){if(!e.ok){var t="An error has occurred: ".concat(e.status);throw new Error(t)}return e.json()})).then((function(e){console.log(e);var t={isSet:!0,icon:{src:"https://openweathermap.org/img/wn/".concat(e.current.weather[0].icon,".png"),alt:e.current.weather[0].description},curTemp:e.current.temp,curWindSpd:e.current.wind_speed,curHumidity:e.current.humidity,curUvi:e.current.uvi,asOfDate:l(e.current.dt),fiveDayForecast:e.daily.slice(1,6)};j(function(e){return{type:h,payload:e}}(t)),f(function(e){var t={borderRadius:".25rem",padding:".25rem .5rem",fontSize:"1.25rem"};return console.log(e),e<=2?(t.backgroundColor="green",t.color="azure"):e<=5?t.backgroundColor="yellow":e<=7?t.backgroundColor="orange":e<=10?(t.backgroundColor="red",t.color="azure"):(t.backgroundColor="violet",t.color="azure"),t}(t.curUvi))})).catch((function(e){j(O(e))}))}}),[a]),Object(v.jsxs)(v.Fragment,{children:[c&&Object(v.jsx)("div",{children:"Loading..."}),u&&Object(v.jsx)("div",{children:u.message}),b.isSet&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:e.div,children:[Object(v.jsxs)("p",{style:e.city,children:[a.name," (",b.asOfDate,")"," ",Object(v.jsx)("img",{style:e.img,src:b.icon.src,alt:b.icon.alt})]}),Object(v.jsxs)("p",{children:["Temp: ",b.curTemp+d," F"]}),Object(v.jsxs)("p",{children:["Wind: ",b.curWindSpd," MPH"]}),Object(v.jsxs)("p",{children:["Humidity: ",b.curHumidity,"%"]}),Object(v.jsxs)("p",{children:["UV Index: ",Object(v.jsx)("span",{style:g,children:b.curUvi})]})]}),Object(v.jsxs)("div",{style:e.fdfDiv,children:[Object(v.jsx)("p",{style:e.fdfHeading,children:"5 day forecast"}),Object(v.jsx)("div",{style:e.fdfRow,children:b.fiveDayForecast.map((function(e){return Object(v.jsx)(W,{forecast:e},e.dt)}))})]})]})]})},z={header:{display:"flex",justifyContent:"center",padding:".5rem .75rem",background:"linear-gradient(to right, blue, navy)",color:"azure",maxWidth:"100%"},h1:{fontSize:"2.5rem",fontWeight:500,marginBottom:".5rem"}};var T=function(){return Object(v.jsx)("header",{style:z.header,children:Object(v.jsx)("h1",{style:z.h1,children:"Weather Dashboard"})})};var D=function(){var e={container:{margin:".5rem",borderBottom:"2px solid black"},form:{display:"grid",gridGap:".5rem"},label:{fontSize:"1.75rem",fontWeight:700,marginBottom:".5rem"},input:{display:"block",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:1.5,border:"1px solid #ced4da",borderRadius:".25rem"},button:{background:"#5098e6",color:"#c7dfe8",marginBottom:"1rem",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:"1.5rem",border:"1px solid transparent",borderRadius:".25rem",transition:"color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out"}},t=k(),r=Object(o.a)(t,2),i=r[0].searchCity,a=r[1],c=Object(n.useState)(""),d=Object(o.a)(c,2),l=d[0],u=d[1];return Object(n.useEffect)((function(){if(i){var e="https://api.openweathermap.org/data/2.5/weather?q=".concat(i,"&units=imperial&appid=").concat(s),t=new AbortController;a(y()),fetch(e,{signal:t.signal}).then((function(e){if(!e.ok){var t="";throw t=404===e.status?"Unable to find ".concat(i):"An error has occurred: ".concat(e.status),new Error(t)}return e.json()})).then((function(e){var t={name:e.name,latitude:e.coord.lat,longitude:e.coord.lon};a({type:m,payload:t})})).catch((function(e){a(O(e))})),a(f(""))}}),[i]),Object(v.jsx)("section",{className:"search",style:e.container,children:Object(v.jsxs)("form",{style:e.form,onSubmit:function(e){e.preventDefault(),l&&a(f(l)),u("")},children:[Object(v.jsx)("label",{style:e.label,children:"Search for a City:"}),Object(v.jsx)("input",{placeholder:"City (no state)",type:"text",style:e.input,value:l,onChange:function(e){u(e.target.value)}}),Object(v.jsx)("button",{type:"submit",style:e.button,children:"Search"})]})})},R={content:{maxWidth:"1320px",margin:"auto",padding:"1rem",display:"grid",gridTemplateColumns:"auto auto auto auto auto auto",gridGap:"1rem"},aside:{gridColumn:1},section:{gridColumn:"2 / span 5"}};var A=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(T,{}),Object(v.jsx)(E,{children:Object(v.jsxs)("div",{className:"content",style:R.content,children:[Object(v.jsx)("aside",{style:R.aside,children:Object(v.jsx)(D,{})}),Object(v.jsx)("section",{style:R.section,children:Object(v.jsx)(H,{})})]})})]})};c.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(A,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.2ad72d7d.chunk.js.map