{"version":3,"sources":["store/actions.js","store/dataReducer.js","store/GlobalState.js","components/Header/Header.js","config/MyConfig.js","components/Search/Search.js","components/CityList/CityList.js","utils/helpers.js","components/CurrentWeather/CurrentWeather.js","components/Forecast/Forecast.js","components/FiveDayForecast/FiveDayForecast.js","components/Weather/Weather.js","App.js","index.js"],"names":["GET_SEARCH_CITY","SET_CITY","SET_CITY_LIST","SET_WEATHER","SET_IS_LOADING","SET_ERROR","SET_UVI_STYLE","getSearchCity","city","type","setCity","payload","setIsLoading","setIsError","err","reducer","state","action","searchCity","isLoading","cityList","isError","weather","isSet","uviStyle","StoreContext","createContext","Provider","StoreProvider","value","initialState","props","name","latitude","longitude","icon","src","alt","curTemp","curWindSpd","curHumidity","curUvi","fiveDayForecast","useReducer","dispatch","useStoreContext","useContext","Header","styled","header","Title","h1","OPEN_WEATHER_API_KEY","Container","section","Form","form","Label","label","Input","input","Button","button","Search","useState","cityInput","setCityInput","useEffect","url","controller","AbortController","fetch","signal","then","response","ok","message","status","Error","json","data","objCity","coord","lat","lon","catch","className","onSubmit","e","preventDefault","placeholder","onChange","target","div","CityList","storageKey","storedList","JSON","parse","localStorage","getItem","currentIndex","findIndex","storedCity","splice","unshift","length","setItem","stringify","setCityList","map","onClick","degreeSymbol","String","fromCharCode","formatDate","date","newDate","Date","getMonth","getDate","getFullYear","Div","City","p","Img","img","CurrentWeather","asOfDate","style","Card","Forecast","forecast","class","dt","description","temp","max","min","wind_speed","humidity","Heading","Row","FiveDayForecast","Weather","objWeather","current","uvi","daily","slice","setWeather","borderRadius","padding","fontSize","backgroundColor","color","getUVIStyle","Content","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42a593ac.chunk.js","sourcesContent":["/** used in the search component to initially find the city */\nexport const GET_SEARCH_CITY = \"GET_SEARCH_CITY\";\n\n/** used in the CityList and search components to search a stored city (triggers fetch weather and set city list) */\nexport const SET_CITY = \"SET_CITY\";\n\n/** used in search component to store the city list */\nexport const SET_CITY_LIST = \"SET_CITY_LIST\";\n\n/** used to update the state of the weather (loading, data, errors) */\nexport const SET_WEATHER = \"SET_WEATHER\";\nexport const SET_IS_LOADING = \"SET_IS_LOADING\";\nexport const SET_ERROR = \"SET_ERROR\";\n\nexport const SET_UVI_STYLE = \"SET_UVI_STYLE\";\n\n// The idea for action creators came from: https://dev.to/markusclaus/fetching-data-from-an-api-using-reactredux-55ao\n\nexport const getSearchCity = (city) => {\n  return {\n    type: GET_SEARCH_CITY,\n    city: city,\n  };\n};\n\nexport const setCity = (city) => {\n  return {\n    type: SET_CITY,\n    payload: city,\n  };\n};\n\nexport const setCityList = (cityList) => {\n  return {\n    type: SET_CITY_LIST,\n    cityList: cityList,\n  };\n};\n\nexport const setIsLoading = () => {\n  return {\n    type: SET_IS_LOADING,\n  };\n};\n\nexport const setWeather = (weather) => {\n  return {\n    type: SET_WEATHER,\n    payload: weather,\n  };\n};\n\nexport const setIsError = (err) => {\n  return {\n    type: SET_ERROR,\n    payload: err,\n  };\n};\n\nexport const setUVIStyle = (style) => {\n  return {\n    type: SET_UVI_STYLE,\n    payload: style,\n  };\n};\n","import { useReducer } from \"react\";\nimport {\n  GET_SEARCH_CITY,\n  SET_CITY,\n  SET_WEATHER,\n  SET_IS_LOADING,\n  SET_ERROR,\n  SET_CITY_LIST,\n  SET_UVI_STYLE,\n} from \"./actions\";\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case GET_SEARCH_CITY:\n      return {\n        ...state,\n        searchCity: action.city,\n      };\n    case SET_CITY:\n      // console.log(\"userReducer: SET_SEARCH_CITY:\", action.payload);\n      return {\n        ...state,\n        isLoading: false,\n        city: action.payload,\n      };\n    case SET_CITY_LIST:\n      // console.log(\"userReducer: SET_CITY_LIST:\", action.cityList);\n      return {\n        ...state,\n        cityList: action.cityList,\n      };\n    case SET_IS_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n        isError: null,\n        weather: { isSet: false },\n      };\n    case SET_WEATHER:\n      return {\n        ...state,\n        isLoading: false,\n        isError: null,\n        weather: action.payload,\n      };\n    case SET_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        isError: action.payload,\n        weather: { isSet: false },\n      };\n    case SET_UVI_STYLE:\n      return {\n        ...state,\n        uviStyle: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport function useDataReducer(initialState) {\n  return useReducer(reducer, initialState);\n}\n","import { createContext, useContext } from \"react\";\nimport { useDataReducer } from \"./dataReducer\";\n\nconst StoreContext = createContext();\nconst { Provider } = StoreContext;\n\nconst StoreProvider = ({ value = [], ...props }) => {\n  const [state, dispatch] = useDataReducer({\n    city: {\n      name: \"\",\n      latitude: \"\",\n      longitude: \"\",\n    },\n\n    searchCity: \"\",\n\n    isLoading: false,\n    isError: null,\n\n    weather: {\n      isSet: false,\n      icon: {\n        src: \"\",\n        alt: \"\",\n      },\n      curTemp: null,\n      curWindSpd: null,\n      curHumidity: null,\n      curUvi: null,\n      fiveDayForecast: [],\n    },\n\n    cityList: [],\n\n    uviStyle: {},\n  });\n\n  return <Provider value={[state, dispatch]} {...props} />;\n};\n\nconst useStoreContext = () => {\n  return useContext(StoreContext);\n};\n\nexport { StoreProvider, useStoreContext };\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Header = styled.header`\n  text-align: center;\n  max-width: 100%;\n\n  padding: 0.5rem 0.75rem;\n  background: linear-gradient(to right, blue, navy);\n  color: azure;\n`;\n\nconst Title = styled.h1`\n  font-size: 2.5rem;\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n`;\n\nfunction header() {\n  return (\n    <Header>\n      <Title>Weather Dashboard</Title>\n    </Header>\n  );\n}\n\nexport default header;\n","export const OPEN_WEATHER_API_KEY = \"feff70f8d612132ecb7ca03754f46b78\";\r\n","import { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { OPEN_WEATHER_API_KEY } from \"../../config/MyConfig\";\n\nimport { useStoreContext } from \"../../store/GlobalState\";\nimport {\n  getSearchCity,\n  setCity,\n  setIsError,\n  setIsLoading,\n} from \"../../store/actions\";\n\nconst Container = styled.section`\n  margin: 0.5rem;\n  border-bottom: 2px solid black;\n`;\n\nconst Form = styled.form`\n  display: grid;\n  gap: 0.5rem;\n`;\n\nconst Label = styled.label`\n  font-size: 1.75rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n`;\n\nconst Input = styled.input`\n  display: block;\n  /* margin-top: 1rem; */\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n`;\n\nconst Button = styled.button`\n  background: #5098e6;\n  color: #c7dfe8;\n  margin-bottom: 1rem;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n`;\n\nfunction Search() {\n  const [{ searchCity }, dispatch] = useStoreContext();\n\n  const [cityInput, setCityInput] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (cityInput) {\n      dispatch(getSearchCity(cityInput));\n    }\n    setCityInput(\"\");\n  };\n\n  useEffect(() => {\n    // if no search city - skip this\n    if (!searchCity) return;\n\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${searchCity}&units=imperial&appid=${OPEN_WEATHER_API_KEY}`;\n\n    // this should control if the search is terminated before the results are back - I don't think I'm using it correct though\n    // TODO: fix abort controller\n    const controller = new AbortController();\n\n    // set loading to true (these will be reset in the other dispatches)\n    dispatch(setIsLoading());\n\n    // get the data\n    fetch(url, { signal: controller.signal })\n      .then((response) => {\n        if (!response.ok) {\n          let message = \"\";\n          if (response.status === 404) {\n            message = `Unable to find ${searchCity}`;\n          } else {\n            message = `An error has occurred: ${response.status}`;\n          }\n          throw new Error(message);\n        }\n\n        return response.json();\n      })\n      .then((data) => {\n        const objCity = {\n          name: data.name,\n          latitude: data.coord.lat,\n          longitude: data.coord.lon,\n        };\n\n        dispatch(setCity(objCity));\n      })\n      .catch((err) => {\n        dispatch(setIsError(err));\n      });\n    // reset search city to \"\" so we don't keep trying to execute this block\n    dispatch(getSearchCity(\"\"));\n  }, [searchCity]);\n\n  return (\n    <Container className=\"search\">\n      <Form onSubmit={handleSubmit}>\n        <Label>Search for a City:</Label>\n        <Input\n          placeholder=\"City (no state)\"\n          type=\"text\"\n          value={cityInput}\n          onChange={(e) => {\n            setCityInput(e.target.value);\n          }}\n        />\n        <Button type=\"submit\">Search</Button>\n      </Form>\n    </Container>\n  );\n}\n\nexport default Search;\n","import { useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport { setCity, setCityList } from \"../../store/actions\";\nimport { useStoreContext } from \"../../store/GlobalState\";\n\nconst Container = styled.div`\n  display: grid;\n  gap: 0.5rem;\n  margin: 0.5rem;\n  margin-top: 1rem;\n`;\n\nconst Button = styled.button`\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5rem;\n  color: #fff;\n  background-color: #6c757d;\n  border: 1px solid #6c757d;\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n  padding: 0.375rem 0.75rem;\n`;\n\nfunction CityList() {\n  const [{ cityList, city }, dispatch] = useStoreContext();\n\n  /**  Store the information of the city.\n   *   If it is a new city it will add it to the front of the list. If it is an old city, move it to the front of the list.\n   * */\n  useEffect(() => {\n    const storageKey = \"reactWeatherCityList\";\n    const maxInHistoryList = 10;\n\n    // get the list from local storage\n    const storedList = JSON.parse(localStorage.getItem(storageKey)) || [];\n    // console.log(storedList);\n\n    if (city.name) {\n      // get the index of the city to see if it is already in the list and remove it if it is\n      const currentIndex = storedList.findIndex(\n        (storedCity) => storedCity.name === city.name\n      );\n      if (currentIndex > -1) {\n        storedList.splice(currentIndex, 1);\n      }\n\n      // add city to the front of the array\n      storedList.unshift(city);\n\n      // set the size of the list\n      if (storedList.length > maxInHistoryList) {\n        storedList.length = maxInHistoryList;\n      }\n\n      // put back in local storage\n      localStorage.setItem(storageKey, JSON.stringify(storedList));\n    }\n    // update the cityList state\n    dispatch(setCityList(storedList));\n  }, [city]);\n\n  if (!cityList.length) {\n    return <Container></Container>;\n  } else {\n    return (\n      <Container>\n        {cityList.map((storedCity) => (\n          <Button\n            key={storedCity.name}\n            onClick={() => dispatch(setCity(storedCity))}\n          >\n            {storedCity.name}\n          </Button>\n        ))}\n      </Container>\n    );\n  }\n}\n\nexport default CityList;\n","export const degreeSymbol = String.fromCharCode(176);\r\n\r\nexport function formatTime(date) {\r\n  return date.toLocaleTimeString();\r\n}\r\n\r\n// The custom helper 'formatDate' takes in a timestamp\r\nexport function formatDate(date) {\r\n  // for some reason the date comes in in seconds, not milliseconds...\r\n  const newDate = new Date(date * 1000);\r\n  return `${\r\n    newDate.getMonth() + 1\r\n  }/${newDate.getDate()}/${newDate.getFullYear()}`;\r\n}\r\n\r\nexport function getUVIStyle(curUvi) {\r\n  const uviStyle = {\r\n    borderRadius: \".25rem\",\r\n    padding: \".25rem .5rem\",\r\n    fontSize: \"1.25rem\",\r\n  };\r\n\r\n  // console.log(curUvi);\r\n\r\n  if (curUvi <= 2) {\r\n    uviStyle.backgroundColor = \"green\";\r\n    uviStyle.color = \"azure\";\r\n  } else if (curUvi <= 5) {\r\n    uviStyle.backgroundColor = \"yellow\";\r\n  } else if (curUvi <= 7) {\r\n    uviStyle.backgroundColor = \"orange\";\r\n  } else if (curUvi <= 10) {\r\n    uviStyle.backgroundColor = \"red\";\r\n    uviStyle.color = \"azure\";\r\n  } else {\r\n    uviStyle.backgroundColor = \"violet\";\r\n    uviStyle.color = \"azure\";\r\n  }\r\n  return uviStyle;\r\n}\r\n","import styled from \"styled-components\";\n\nimport { degreeSymbol } from \"../../utils/helpers\";\n\nimport { useStoreContext } from \"../../store/GlobalState\";\n\nconst Div = styled.div`\n  display: grid;\n  gap: 1rem;\n  padding: 1rem;\n\n  border: 1px solid black;\n  font-size: 1.5rem;\n`;\n\nconst City = styled.p`\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n`;\n\nconst Img = styled.img`\n  vertical-align: middle;\n`;\n\nfunction CurrentWeather() {\n  const [{ city, weather, uviStyle }] = useStoreContext();\n\n  return (\n    <>\n      <Div>\n        <City>\n          {city.name} ({weather.asOfDate}){\" \"}\n          <Img src={weather.icon.src} alt={weather.icon.alt} />\n        </City>\n        <p>Temp: {weather.curTemp + degreeSymbol} F</p>\n        <p>Wind: {weather.curWindSpd} MPH</p>\n        <p>Humidity: {weather.curHumidity}%</p>\n        <p>\n          UV Index: <span style={uviStyle}>{weather.curUvi}</span>\n        </p>\n      </Div>\n      {/*\n          <div style={styles.fdfDiv}>\n            <p style={styles.fdfHeading}>5 day forecast</p>\n            <div style={styles.fdfRow}>\n              {weather.fiveDayForecast.map((forecast) => (\n                <Forecast forecast={forecast} key={forecast.dt} />\n              ))}\n            </div>\n          </div>\n          */}\n    </>\n  );\n}\n\nexport default CurrentWeather;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { degreeSymbol, formatDate } from \"../../utils/helpers\";\n\nconst Card = styled.div`\n  display: flex;\n  justify-content: center;\n\n  padding: 0.5rem;\n  margin-bottom: 0.5rem;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n\n  background: #2d3e50;\n  color: azure;\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1.5;\n`;\n\nconst Img = styled.img`\n  vertical-align: middle;\n`;\n/** this expects the prop forecast which contains the information to display for that specific forecast */\nfunction Forecast({ forecast }) {\n  return (\n    <Card>\n      <div class=\"content\">\n        <p>{formatDate(forecast.dt)}</p>\n        <Img\n          src={`https://openweathermap.org/img/wn/${forecast.weather[0].icon}.png`}\n          alt={forecast.weather[0].description}\n        />\n        <p>High: {forecast.temp.max + degreeSymbol} F</p>\n        <p>Low: {forecast.temp.min + degreeSymbol} F</p>\n        <p>Wind: {forecast.wind_speed} MPH</p>\n        <p>Humidity: {forecast.humidity}%</p>\n      </div>\n    </Card>\n  );\n}\n\nexport default Forecast;\n","import styled from \"styled-components\";\n\nimport { useStoreContext } from \"../../store/GlobalState\";\nimport Forecast from \"../Forecast/Forecast\";\n\nconst Heading = styled.p`\n  font-size: 1.75rem;\n  font-weight: 700;\n  margin: 0.5rem;\n`;\n\nconst Div = styled.div`\n  display: grid;\n  gap: 1rem;\n  padding: 1rem;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: space-between;\n\n  padding: 0 1rem;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n  }\n`;\n\nfunction FiveDayForecast() {\n  const [{ weather }] = useStoreContext();\n\n  return (\n    <Div>\n      <Heading>5 day forecast</Heading>\n      <Row>\n        {weather.fiveDayForecast.map((forecast) => (\n          <Forecast forecast={forecast} key={forecast.dt} />\n        ))}\n      </Row>\n    </Div>\n  );\n}\n\nexport default FiveDayForecast;\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { OPEN_WEATHER_API_KEY } from \"../../config/MyConfig\";\n\nimport CurrentWeather from \"../CurrentWeather/CurrentWeather\";\nimport { formatDate, getUVIStyle } from \"../../utils/helpers\";\n\nimport { useStoreContext } from \"../../store/GlobalState\";\nimport {\n  setIsError,\n  setIsLoading,\n  setWeather,\n  setUVIStyle,\n} from \"../../store/actions\";\nimport FiveDayForecast from \"../FiveDayForecast/FiveDayForecast\";\n\nconst Weather = () => {\n  const [{ city, isLoading, isError, weather }, dispatch] = useStoreContext();\n\n  useEffect(() => {\n    // check if this can even run\n    if (city.name === \"\") return;\n\n    const url = `https://api.openweathermap.org/data/2.5/onecall?lat=${city.latitude}&lon=${city.longitude}&exclude=minutely,hourly&units=imperial&appid=${OPEN_WEATHER_API_KEY}`;\n\n    // this should control if the search is terminated before the results are back - I don't think I'm using it correct though\n    // TODO: fix abort controller\n    const controller = new AbortController();\n\n    dispatch(setIsLoading());\n\n    // get the data\n    fetch(url, { signal: controller.signal })\n      .then((response) => {\n        if (!response.ok) {\n          const message = `An error has occurred: ${response.status}`;\n          throw new Error(message);\n        }\n\n        return response.json();\n      })\n      .then((data) => {\n        // console.log(data);\n\n        const objWeather = {\n          isSet: true,\n          icon: {\n            src: `https://openweathermap.org/img/wn/${data.current.weather[0].icon}.png`,\n            alt: data.current.weather[0].description,\n          },\n          curTemp: data.current.temp,\n          curWindSpd: data.current.wind_speed,\n          curHumidity: data.current.humidity,\n          curUvi: data.current.uvi,\n          asOfDate: formatDate(data.current.dt),\n          fiveDayForecast: data.daily.slice(1, 6), // 0 is today's forecast\n        };\n\n        dispatch(setWeather(objWeather));\n        dispatch(setUVIStyle(getUVIStyle(objWeather.curUvi)));\n      })\n      .catch((err) => {\n        dispatch(setIsError(err));\n      });\n  }, [city]);\n\n  return (\n    <>\n      {isLoading && <div>Loading...</div>}\n      {isError && <div>{isError.message}</div>}\n\n      {weather.isSet && (\n        <>\n          <CurrentWeather />\n          <FiveDayForecast />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Weather;\n","import styled from \"styled-components\";\n\nimport { StoreProvider } from \"./store/GlobalState\";\n\nimport Header from \"./components/Header/Header\";\nimport Search from \"./components/Search/Search\";\nimport CityList from \"./components/CityList/CityList\";\nimport Weather from \"./components/Weather/Weather\";\n\nconst Content = styled.div`\n  max-width: 1320px;\n  margin: auto;\n  padding: 1rem;\n\n  @media (min-width: 768px) {\n    display: grid;\n    grid-template-columns: auto auto auto auto auto auto;\n    gap: 1rem;\n\n    aside {\n      grid-column: 1;\n    }\n\n    section {\n      grid-column: 2 / span 5;\n    }\n  }\n`;\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <StoreProvider>\n        <Content>\n          <aside>\n            <Search />\n            <CityList />\n          </aside>\n          <section>\n            <Weather />\n          </section>\n        </Content>\n      </StoreProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}