(this["webpackJsonpweather-dashboard-react"]=this["webpackJsonpweather-dashboard-react"]||[]).push([[0],{19:function(e,t,r){},25:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),a=r(8),c=r.n(a),o=(r(19),r(9)),s=r(10),d=r(3),l="GET_SEARCH_CITY",u="SET_CITY",m="SET_CITY_LIST",b="SET_WEATHER",j="SET_IS_LOADING",h="SET_ERROR",p=function(e){return{type:l,city:e}},g=function(e){return{type:u,payload:e}},f=function(){return{type:j}},y=function(e){return{type:h,payload:e}},O=r(2),x=r(14),v=function(e,t){switch(t.type){case l:return Object(O.a)(Object(O.a)({},e),{},{searchCity:t.city});case u:return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1,city:t.payload});case m:return Object(O.a)(Object(O.a)({},e),{},{cityList:t.cityList});case j:return Object(O.a)(Object(O.a)({},e),{},{isLoading:!0,isError:null,weather:{isSet:!1}});case b:return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1,isError:null,weather:t.payload});case h:return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1,isError:t.payload,weather:{isSet:!1}});default:return e}};var w=r(0),S=["value"],C=Object(n.createContext)(),E=C.Provider,k=function(e){e.value;var t,r=Object(x.a)(e,S),i=(t={city:{name:"",latitude:"",longitude:""},searchCity:"",isLoading:!1,isError:null,weather:{isSet:!1,icon:{src:"",alt:""},curTemp:null,curWindSpd:null,curHumidity:null,curUvi:null,fiveDayForecast:[]},cityList:[]},Object(n.useReducer)(v,t)),a=Object(d.a)(i,2),c=a[0],o=a[1];return Object(w.jsx)(E,Object(O.a)({value:[c,o]},r))},T=function(){return Object(n.useContext)(C)};var W=function(){var e={container:{display:"grid",gridGap:".5rem",margin:".5rem",marginTop:"1rem"},button:{fontSize:"1rem",fontWeight:400,lineHeight:"1.5rem",color:"#fff",backgroundColor:"#6c757d",border:"1px solid #6c757d",borderRadius:".25rem",marginBottom:"1rem",padding:".375rem .75rem"}},t=T(),r=Object(d.a)(t,2),i=r[0],a=i.cityList,c=i.city,o=r[1];return Object(n.useEffect)((function(){var e="weatherCityList",t=JSON.parse(localStorage.getItem(e))||[];if(c.name){var r=t.findIndex((function(e){return e.name===c.name}));r>-1&&t.splice(r,1),t.unshift(c),t.length>10&&(t.length=10),localStorage.setItem(e,JSON.stringify(t))}o(function(e){return{type:m,cityList:e}}(t))}),[c]),a.length?Object(w.jsx)("div",{style:e.container,children:a.map((function(t){return Object(w.jsx)("button",{onClick:function(){return o(g(t))},style:e.button,children:t.name},t.name)}))}):Object(w.jsx)("div",{})},H="feff70f8d612132ecb7ca03754f46b78",L=String.fromCharCode(176);function z(e){var t=new Date(1e3*e);return"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())}var R=function(e){var t=e.forecast,r={card:{background:"#2d3e50",color:"azure",fontSize:"1rem",fontWeight:"bold",lineHeight:1.5,padding:".5rem",border:"1px solid rgba(0,0,0,.125)",borderRadius:".25rem"},img:{verticalAlign:"middle"}};return Object(w.jsxs)("div",{style:r.card,children:[Object(w.jsx)("p",{children:z(t.dt)}),Object(w.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),alt:t.weather[0].description,style:r.img}),Object(w.jsxs)("p",{children:["High: ",t.temp.max+L," F"]}),Object(w.jsxs)("p",{children:["Low: ",t.temp.min+L," F"]}),Object(w.jsxs)("p",{children:["Wind: ",t.wind_speed," MPH"]}),Object(w.jsxs)("p",{children:["Humidity: ",t.humidity,"%"]})]})};var D=function(){var e={div:{display:"grid",gap:"1rem",padding:"1rem",border:"1px solid black",fontSize:"1.5rem"},city:{fontSize:"2rem",fontWeight:700,marginBottom:".5rem"},img:{verticalAlign:"middle"},fdfHeading:{fontSize:"1.75rem",fontWeight:700,margin:".5rem"},fdfDiv:{display:"grid",gap:"1rem",padding:"1rem"},fdfRow:{display:"flex",justifyContent:"space-between",padding:"0 1rem"}},t=T(),r=Object(d.a)(t,2),i=r[0],a=i.city,c=i.isLoading,o=i.isError,s=i.weather,l=r[1],u=Object(n.useState)({}),m=Object(d.a)(u,2),j=m[0],h=m[1];return Object(n.useEffect)((function(){if(""!==a.name){var e="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a.latitude,"&lon=").concat(a.longitude,"&exclude=minutely,hourly&units=imperial&appid=").concat(H),t=new AbortController;l(f()),fetch(e,{signal:t.signal}).then((function(e){if(!e.ok){var t="An error has occurred: ".concat(e.status);throw new Error(t)}return e.json()})).then((function(e){var t={isSet:!0,icon:{src:"https://openweathermap.org/img/wn/".concat(e.current.weather[0].icon,".png"),alt:e.current.weather[0].description},curTemp:e.current.temp,curWindSpd:e.current.wind_speed,curHumidity:e.current.humidity,curUvi:e.current.uvi,asOfDate:z(e.current.dt),fiveDayForecast:e.daily.slice(1,6)};l(function(e){return{type:b,payload:e}}(t)),h(function(e){var t={borderRadius:".25rem",padding:".25rem .5rem",fontSize:"1.25rem"};return e<=2?(t.backgroundColor="green",t.color="azure"):e<=5?t.backgroundColor="yellow":e<=7?t.backgroundColor="orange":e<=10?(t.backgroundColor="red",t.color="azure"):(t.backgroundColor="violet",t.color="azure"),t}(t.curUvi))})).catch((function(e){l(y(e))}))}}),[a]),Object(w.jsxs)(w.Fragment,{children:[c&&Object(w.jsx)("div",{children:"Loading..."}),o&&Object(w.jsx)("div",{children:o.message}),s.isSet&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{style:e.div,children:[Object(w.jsxs)("p",{style:e.city,children:[a.name," (",s.asOfDate,")"," ",Object(w.jsx)("img",{style:e.img,src:s.icon.src,alt:s.icon.alt})]}),Object(w.jsxs)("p",{children:["Temp: ",s.curTemp+L," F"]}),Object(w.jsxs)("p",{children:["Wind: ",s.curWindSpd," MPH"]}),Object(w.jsxs)("p",{children:["Humidity: ",s.curHumidity,"%"]}),Object(w.jsxs)("p",{children:["UV Index: ",Object(w.jsx)("span",{style:j,children:s.curUvi})]})]}),Object(w.jsxs)("div",{style:e.fdfDiv,children:[Object(w.jsx)("p",{style:e.fdfHeading,children:"5 day forecast"}),Object(w.jsx)("div",{style:e.fdfRow,children:s.fiveDayForecast.map((function(e){return Object(w.jsx)(R,{forecast:e},e.dt)}))})]})]})]})},I={header:{display:"flex",justifyContent:"center",padding:".5rem .75rem",background:"linear-gradient(to right, blue, navy)",color:"azure",maxWidth:"100%"},h1:{fontSize:"2.5rem",fontWeight:500,marginBottom:".5rem"}};var _=function(){return Object(w.jsx)("header",{style:I.header,children:Object(w.jsx)("h1",{style:I.h1,children:"Weather Dashboard"})})};var A,F=function(){var e={container:{margin:".5rem",borderBottom:"2px solid black"},form:{display:"grid",gridGap:".5rem"},label:{fontSize:"1.75rem",fontWeight:700,marginBottom:".5rem"},input:{display:"block",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:1.5,border:"1px solid #ced4da",borderRadius:".25rem"},button:{background:"#5098e6",color:"#c7dfe8",marginBottom:"1rem",padding:".375rem .75rem",fontSize:"1rem",fontWeight:400,lineHeight:"1.5rem",border:"1px solid transparent",borderRadius:".25rem",transition:"color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out"}},t=T(),r=Object(d.a)(t,2),i=r[0].searchCity,a=r[1],c=Object(n.useState)(""),o=Object(d.a)(c,2),s=o[0],l=o[1];return Object(n.useEffect)((function(){if(i){var e="https://api.openweathermap.org/data/2.5/weather?q=".concat(i,"&units=imperial&appid=").concat(H),t=new AbortController;a(f()),fetch(e,{signal:t.signal}).then((function(e){if(!e.ok){var t="";throw t=404===e.status?"Unable to find ".concat(i):"An error has occurred: ".concat(e.status),new Error(t)}return e.json()})).then((function(e){var t={name:e.name,latitude:e.coord.lat,longitude:e.coord.lon};a(g(t))})).catch((function(e){a(y(e))})),a(p(""))}}),[i]),Object(w.jsx)("section",{className:"search",style:e.container,children:Object(w.jsxs)("form",{style:e.form,onSubmit:function(e){e.preventDefault(),s&&a(p(s)),l("")},children:[Object(w.jsx)("label",{style:e.label,children:"Search for a City:"}),Object(w.jsx)("input",{placeholder:"City (no state)",type:"text",style:e.input,value:s,onChange:function(e){l(e.target.value)}}),Object(w.jsx)("button",{type:"submit",style:e.button,children:"Search"})]})})},B=s.a.div(A||(A=Object(o.a)(['\n    maxWidth: "1320px",\n    margin: "auto",\n    padding: "1rem",\n\n    display: "grid",\n    gridTemplateColumns: "auto auto auto auto auto auto",\n    gridGap: "1rem",\n  ']))),U={aside:{gridColumn:1},section:{gridColumn:"2 / span 5"}};var G=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(_,{}),Object(w.jsx)(k,{children:Object(w.jsxs)(B,{children:[Object(w.jsxs)("aside",{style:U.aside,children:[Object(w.jsx)(F,{}),Object(w.jsx)(W,{})]}),Object(w.jsx)("section",{style:U.section,children:Object(w.jsx)(D,{})})]})})]})};c.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(G,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.888e28c8.chunk.js.map